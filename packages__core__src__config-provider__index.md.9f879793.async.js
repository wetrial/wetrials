(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{"0erF":function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),a=t.n(r),o=t("dEAq"),i=t("ZpkN");n["default"]=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"wetrialconfigcontext"},a.a.createElement(o["AnchorLink"],{to:"#wetrialconfigcontext","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:["icon","icon-link"]})),"WetrialConfigContext"),a.a.createElement("p",null,"\u6ce8\u610f\uff0cWetrialConfigContext \u7684\u4f4d\u7f6e\u5728\u5305 ",a.a.createElement("code",null,"@wetrial/provider"),"\u4e2d\uff0c\u7b97@wetrial \u7684\u4f9d\u8d56\uff0c\u4e0d\u9700\u8981\u5355\u72ec\u5b89\u88c5\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528"),a.a.createElement("h2",{id:"\u4f7f\u7528\u65b9\u5f0f"},a.a.createElement(o["AnchorLink"],{to:"#\u4f7f\u7528\u65b9\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:["icon","icon-link"]})),"\u4f7f\u7528\u65b9\u5f0f"),a.a.createElement("p",null,"\u5f53\u505a\u666e\u901a\u7684 Provider \u4f7f\u7528\uff0c\u7528\u6765\u4fee\u6539\u5168\u5c40\u7684\u914d\u7f6e\u9879\uff1b"),a.a.createElement(i["a"],{code:"import { ConfigProvider } from '@wetrial/provider';\n\n// \u5728\u6700\u5916\u5c42\u5bb9\u5668\u4e2d\n<ConfigProvider\n  value={{\n    iconFontUrl: '', // \u4fee\u6539\u4e3a\u9879\u76ee\u4e2d\u4f7f\u7528\u7684icon\u5730\u5740\n    formatFormTableResult: (result) => {\n      // TODO \u4fee\u6539\u4e3a\u7b26\u5408\u8981\u6c42\u7684\u7ed3\u6784\n      return result;\n    },\n    formatFormTableRequest: (req) => {\n      // TODO \u4fee\u6539\u4e3a\u7b26\u5408\u8981\u6c42\u7684\u7ed3\u6784\n      return req;\n    },\n  }}\n>\n  {children}\n</ConfigProvider>;\n",lang:"tsx"}),a.a.createElement("p",null,"umi \u9879\u76ee\u4e2d\u53ef\u4ee5\u5728 app.[t|j]sx \u6587\u4ef6\u7684 rootContainer \u4e2d\u5305\u88f9\u4e00\u5c42"),a.a.createElement(i["a"],{code:"import { ConfigProvider } from '@wetrial/provider';\n\n// \u5982\nexport function rootContainer(container) {\n  return React.createElement(\n    ConfigProvider,\n    {\n      form: { validateMessages },\n      input: {\n        autoComplete: 'off',\n      },\n      locale: zhCN,\n    },\n    React.createElement(\n      ConfigProvider,\n      {\n        value: {\n          // iconFontUrl:'', // \u4fee\u6539\u4e3a\u9879\u76ee\u4e2d\u4f7f\u7528\u7684icon\u5730\u5740\n          // formatFormTableResult:()=>{return null;}, // \u4fee\u6539\u4e3a\u7b26\u5408api\u7684\u7ed3\u6784\n          // formatFormTableRequest:()=>{return null;} // \u4fee\u6539\u4e3a\u7b26\u5408api\u7684\u7ed3\u6784\n        },\n      },\n      React.createElement(\n        UseRequestProvider,\n        {\n          value: {\n            requestMethod: (param) => requestMethod(param),\n            onError: (response) => {\n              if (response && response.status) {\n                const { status, statusText, data } = response;\n                const notifyFunc = status >= 500 ? notification.error : notification.info;\n                let message;\n                if (data && typeof data === 'object' && 'error' in data) {\n                  message = data.error?.message;\n                }\n                const errorText = message || codeMessage[status] || statusText;\n                notifyFunc({\n                  key: '__global_message',\n                  message: '\u6e29\u99a8\u63d0\u793a',\n                  description: errorText,\n                });\n              }\n              if (!response) {\n                notification.error({\n                  key: '__global_message',\n                  message: '\u7f51\u7edc\u5f00\u5c0f\u5dee\u5566',\n                  description: '\u60a8\u7684\u7f51\u7edc\u53d1\u751f\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\u6216\u8005\u8054\u7cfb\u5ba2\u670d',\n                });\n              }\n              throw response;\n            },\n          },\n        },\n        container,\n      ),\n    ),\n  );\n}\n",lang:"ts"})))}}}]);